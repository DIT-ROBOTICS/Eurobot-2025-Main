<?xml version="1.0" encoding="UTF-8"?>
<root BTCPP_format="4">
  <BehaviorTree ID="2levelmissionTest">
    <Fallback>
      <Sequence>
        <ForceSuccess>
          <Timeout msec="6000">
            <FirmwareMission mission_status="{x}"
                             mission_type="20"
                             _description="back put the raw material"/>
          </Timeout>
        </ForceSuccess>
        <Parallel failure_count="1"
                  success_count="3">
          <Sequence>
            <Docking final_pose="{PrevGoal}"
                     isPureDocking="1"
                     dock_type="{DOCK_DIR}"
                     shift="0"
                     offset="{BACK_M}"
                     base="{PrevGoal}"
                     _description="step back"/>
            <Rotation final_pose="{PrevGoal}"
                      degree="180"
                      base="{PrevGoal}"
                      _description="rotate to face the material"/>
          </Sequence>
          <ForceSuccess>
            <Timeout msec="6000">
              <FirmwareMission mission_status="{x}"
                               mission_type="32"
                               _description="arm up"/>
            </Timeout>
          </ForceSuccess>
          <ForceSuccess>
            <Timeout msec="6000">
              <FirmwareMission mission_status="{x}"
                               mission_type="91"
                               _description="enable back magnet"/>
            </Timeout>
          </ForceSuccess>
        </Parallel>
        <Docking final_pose="{PrevGoal}"
                 isPureDocking="0"
                 dock_type="{DOCK_DIR}"
                 shift="-0.045"
                 offset="{FORWARD_M}"
                 base="{PrevGoal}"
                 _description="docking to the material"/>
        <ForceSuccess>
          <Timeout msec="6000">
            <FirmwareMission mission_status="{x}"
                             mission_type="71"
                             _description="take board"/>
          </Timeout>
        </ForceSuccess>
        <Parallel failure_count="1"
                  success_count="2">
          <Docking final_pose="{PrevGoal}"
                   isPureDocking="1"
                   dock_type="{DOCK_DIR}"
                   shift="0"
                   offset="{BACK_S}"
                   base="{PrevGoal}"
                   _description="step back"/>
          <ForceSuccess>
            <Timeout msec="6000">
              <FirmwareMission mission_status="{x}"
                               mission_type="30"
                               _description="arm down"/>
            </Timeout>
          </ForceSuccess>
        </Parallel>
        <Docking final_pose="{PrevGoal}"
                 isPureDocking="1"
                 dock_type="{DOCK_DIR}"
                 shift="0"
                 offset="{FORWARD_S}"
                 base="{PrevGoal}"
                 _description="go forward "/>
        <ForceSuccess>
          <Timeout msec="6000">
            <FirmwareMission mission_status="{x}"
                             mission_type="11"
                             _description="front take 1 level"/>
          </Timeout>
        </ForceSuccess>
        <ForceSuccess>
          <Timeout msec="6000">
            <FirmwareMission mission_status="{x}"
                             mission_type="70"
                             _description="place board"/>
          </Timeout>
        </ForceSuccess>
        <ForceSuccess>
          <Timeout msec="6000">
            <FirmwareMission mission_status="{x}"
                              mission_type="31"
                              _description="arm to one level height"/>
          </Timeout>
        </ForceSuccess>
        <Docking final_pose="{PrevGoal}"
                  isPureDocking="0"
                  dock_type="{DOCK_DIR}"
                  shift="0.09"
                  offset="0"
                  base="{PrevGoal}"/>
        <ForceSuccess>
          <Timeout msec="6000">
            <FirmwareMission mission_status="{x}"
                              mission_type="33"
                              _description="arm to one level height"/>
          </Timeout>
        </ForceSuccess>
        <Parallel failure_count="1"
          success_count="2">
          <Docking final_pose="{PrevGoal}"
                  isPureDocking="1"
                  dock_type="{DOCK_DIR}"
                  shift="0"
                  offset="{BACK_M}"
                  base="{PrevGoal}"
                  _description="step back"/>
          <Sequence>
            <Sleep msec="1000"/>
            <ForceSuccess>
              <Timeout msec="6000">
                <FirmwareMission mission_status="{x}"
                                  mission_type="30"
                                  _description="low down the grabber"/>
              </Timeout>
            </ForceSuccess>
          </Sequence>
        </Parallel>
      </Sequence>
      <MissionFinisher failed_levels="{a}"
                       success_levels="{b}"
                       robot_type="1"
                       step_results="4"/>
    </Fallback>
  </BehaviorTree>

  <BehaviorTree ID="3levelmissionTest">
    <Fallback>
      <Sequence>
        <ForceSuccess>
          <Timeout msec="6000">
            <FirmwareMission mission_status="{x}"
                             mission_type="10"
                             _description="front put 1 level"/>
          </Timeout>
        </ForceSuccess>
        <Docking final_pose="{PrevGoal}"
                 isPureDocking="1"
                 dock_type="{DOCK_DIR}"
                 shift="0"
                 offset="{BACK_L}"
                 base="{PrevGoal}"
                 _description="step back"/>
        <Rotation final_pose="{PrevGoal}"
                  degree="180"
                  base="{PrevGoal}"/>
        <Docking final_pose="{PrevGoal}"
                 isPureDocking="0"
                 dock_type="{DOCK_DIR}"
                 shift="0.045"
                 offset="0"
                 base="{PrevGoal}"
                 _description="step back"/>
        <SubTree ID="2levelmissionTest"
                 _autoremap="true"/>
        <Docking final_pose="{PrevGoal}"
                 isPureDocking="0"
                 dock_type="{DOCK_DIR}"
                 shift="0"
                 offset="{FORWARD_S}"
                 base="{PrevGoal}"
                 _description="forward to take two levels"/>
        <Docking final_pose="{PrevGoal}"
                 isPureDocking="1"
                 dock_type="{DOCK_DIR}"
                 shift="0"
                 offset="{FORWARD_S}"
                 base="{PrevGoal}"
                 _description="forward to take two levels"/>
        <ForceSuccess>
          <Timeout msec="6000">
            <FirmwareMission mission_status="{x}"
                             mission_type="11"
                             _description="front take 2 level"/>
          </Timeout>
        </ForceSuccess>
        <ForceSuccess>
          <Timeout msec="6000">
            <FirmwareMission mission_status="{x}"
                             mission_type="31"
                             _description="arm up"/>
          </Timeout>
        </ForceSuccess>
        <Docking final_pose="{PrevGoal}"
                 isPureDocking="1"
                 dock_type="{DOCK_DIR}"
                 shift="0"
                 offset="{FORWARD_L}"
                 base="{PrevGoal}"
                 _description="forward to place two levels on one level"/>
        <ForceSuccess>
          <Timeout msec="6000">
            <FirmwareMission mission_status="{x}"
                              mission_type="33"
                              _description="arm to one level height"/>
          </Timeout>
        </ForceSuccess>
        <Parallel failure_count="1"
          success_count="2">
          <Docking final_pose="{PrevGoal}"
                  isPureDocking="1"
                  dock_type="{DOCK_DIR}"
                  shift="0"
                  offset="{BACK_M}"
                  base="{PrevGoal}"
                  _description="step back"/>
          <Sequence>
            <Sleep msec="500"/>
            <ForceSuccess>
              <Timeout msec="6000">
                <FirmwareMission mission_status="{x}"
                                  mission_type="30"
                                  _description="low down the grabber"/>
              </Timeout>
            </ForceSuccess>
          </Sequence>
        </Parallel>
      </Sequence>
      <MissionFinisher failed_levels="{a}"
                       success_levels="{b}"
                       robot_type="1"
                       step_results="5"/>
    </Fallback>
  </BehaviorTree>

  <BehaviorTree ID="BannerMission">
    <Sequence>
      <Fallback>
        <Switch2 case_1="0"
                 case_2="1"
                 variable="{BANNER_PLACE}">
          <Docking final_pose="{PrevGoal}"
                   isPureDocking="0"
                   dock_type="mission_dock_y"
                   shift="0"
                   offset="-0.1"
                   base="2.77, 0.3, 0"/>
          <Docking final_pose="{PrevGoal}"
                   isPureDocking="0"
                   dock_type="mission_dock_y"
                   shift="0"
                   offset="-0.1"
                   base="1.25, 0.3, 0"/>
          <Docking final_pose="{PrevGoal}"
                   isPureDocking="0"
                   dock_type="mission_dock_y"
                   shift="0"
                   offset="-0.1"
                   base="0.8, 0.3, 0"
                   _description="go to place the banner"/>
        </Switch2>
        <Docking final_pose="{PrevGoal}"
                 isPureDocking="0"
                 dock_type="mission_dock_y"
                 shift="0"
                 offset="-0.1"
                 base="0.8, 0.3, 0"/>
        <Docking final_pose="{PrevGoal}"
                 isPureDocking="0"
                 dock_type="mission_dock_y"
                 shift="0"
                 offset="-0.1"
                 base="1.25, 0.3, 0"/>
      </Fallback>
      <Sleep msec="500"/>
    </Sequence>
  </BehaviorTree>

  <BehaviorTree ID="FirmwareTest">
    <Sequence>
      <ForceSuccess>
        <Timeout msec="6000">
          <FirmwareMission mission_status="{x}"
                           mission_type="21"
                           _description="grab back material"/>
        </Timeout>
      </ForceSuccess>
      <Switch2 case_1="0"
              case_2="1"
              variable="0">
        <Sequence>
          <MissionNearRival remap_base="{base}"
                            mission_type="front"
                            base_index="13">
            <Docking final_pose="{PrevGoal}"
                    isPureDocking="0"
                    dock_type="mission_dock_y"
                    shift="0"
                    offset="-0.10"
                    base="1.25, 0.5, 1"
                    _description="mission point 3"/>
          </MissionNearRival>
          <SubTree ID="2levelmissionTest"
                  BACK_L="0.2"
                  BACK_M="0.10"
                  BACK_S="0.045"
                  FORWARD_L="-0.15"
                  FORWARD_M="-0.09"
                  FORWARD_S="-0.065"
                  DOCK_DIR="mission_dock_y"
                  _autoremap="true"/>
        </Sequence>
        <Sequence>
          <Docking final_pose="{PrevGoal}"
                  isPureDocking="0"
                  dock_type="mission_dock_y"
                  shift="0"
                  offset="-0.10"
                  base="1.25, 0.35, 3"
                  _description="mission point 3"/>
          <SubTree ID="3levelmissionTest"
                  BACK_L="0.2"
                  BACK_M="0.10"
                  BACK_S="0.047"
                  FORWARD_L="-0.15"
                  FORWARD_M="-0.088"
                  FORWARD_S="-0.065"
                  DOCK_DIR="mission_dock_y"
                  _autoremap="true"/>
        </Sequence>
        <Sleep msec="1000"/>
      </Switch2>
    </Sequence>
  </BehaviorTree>

  <BehaviorTree ID="MainTree">
    <Sequence>
      <Parallel failure_count="2"
                success_count="1">
        <Sequence>
          <Sequence>
            <BTStarter result="{STATUS}"/>
            <CamReceiver/>
          </Sequence>
          <ForceSuccess>
            <SubTree ID="MissionPointThree_0"
                     _autoremap="true"/>
          </ForceSuccess>
          <ForceSuccess>
            <SubTree ID="MissionPointThree_1"
                     _autoremap="true"/>
          </ForceSuccess>
          <ForceSuccess>
            <SubTree ID="MissionPointFour"
                     _autoremap="true"/>
          </ForceSuccess>
        </Sequence>
        <Delay delay_msec="97000">
          <Sleep msec="1"/>
        </Delay>
      </Parallel>
      <Docking final_pose="{PrevGoal}"
               isPureDocking="0"
               dock_type="mission_dock_y"
               shift="0"
               offset="0"
               base="0.35, 1.6, 3"/>
    </Sequence>
  </BehaviorTree>

  <BehaviorTree ID="MissionPointFour">
    <Sequence>
      <RetryUntilSuccessful num_attempts="2">
        <Docking final_pose="{PrevGoal}"
                 isPureDocking="0"
                 dock_type="mission_dock_y"
                 shift="0"
                 offset="-0.2"
                 base="0.778, 0.6, 1"
                 _description="material point 5"/>
      </RetryUntilSuccessful>
      <ForceSuccess>
        <Timeout msec="6000">
          <FirmwareMission mission_status="{x}"
                           mission_type="21"
                           _description="take the raw material"/>
        </Timeout>
      </ForceSuccess>
      <SubTree ID="BannerMission"
               BANNER_PLACE="2"
               _autoremap="true"/>
      <RetryUntilSuccessful num_attempts="2">
        <Docking final_pose="{PrevGoal}"
                 isPureDocking="0"
                 dock_type="mission_dock_y"
                 shift="0"
                 offset="-0.10"
                 base="0.8, 0.35, 1"
                 _description="go back to do the mission point 4"/>
      </RetryUntilSuccessful>
      <SubTree ID="TwoLevelsBot1"
               BACK_L="0.2"
               DOCK_DIR="mission_dock_y"
               FORWARD_L="-0.15"
               BACK_M="0.1"
               BACK_S="0.047"
               FORWARD_M="-0.09"
               FORWARD_S="-0.065"
               _autoremap="true"/>
    </Sequence>
  </BehaviorTree>

  <BehaviorTree ID="MissionPointThree_0">
    <Sequence>
      <RetryUntilSuccessful num_attempts="2">
        <Docking final_pose="{PrevGoal}"
                 isPureDocking="0"
                 dock_type="mission_dock_y"
                 shift="0"
                 offset="0.2"
                 base="0.822, 1.375, 3"
                 _description="material point 9"/>
      </RetryUntilSuccessful>
      <ForceSuccess>
        <Timeout msec="6000">
          <FirmwareMission mission_status="{x}"
                           mission_type="21"
                           _description="take the raw material"/>
        </Timeout>
      </ForceSuccess>
      <RetryUntilSuccessful num_attempts="2">
        <Docking final_pose="{PrevGoal}"
                 isPureDocking="0"
                 dock_type="mission_dock_x"
                 shift="0"
                 offset="-0.2"
                 base="0.425, 1.4, 2"
                 _description="material point 8"/>
      </RetryUntilSuccessful>
      <ForceSuccess>
        <Timeout msec="6000">
          <FirmwareMission mission_status="{x}"
                           mission_type="11"
                           _description="take one level"/>
        </Timeout>
      </ForceSuccess>
      <ForceSuccess>
        <Timeout msec="6000">
          <FirmwareMission mission_status="{x}"
                           mission_type="31"
                           _description="lift the grabber"/>
        </Timeout>
      </ForceSuccess>
      <RetryUntilSuccessful num_attempts="2">
        <Docking final_pose="{PrevGoal}"
                 isPureDocking="0"
                 dock_type="mission_dock_y"
                 shift="0"
                 offset="-0.10"
                 base="1.3, 0.35, 3"
                 _description="mission point 3"/>
      </RetryUntilSuccessful>
      <ForceSuccess>
        <Timeout msec="6000">
          <FirmwareMission mission_status="{x}"
                           mission_type="30"
                           _description="low down the grabber"/>
        </Timeout>
      </ForceSuccess>
      <SubTree ID="ThreeLevelsBot1"
               BACK_L="0.2"
               DOCK_DIR="mission_dock_y"
               FORWARD_L="-0.15"
               BACK_M="0.1"
               BACK_S="0.047"
               FORWARD_M="-0.09"
               FORWARD_S="-0.065"
               _autoremap="true"/>
    </Sequence>
  </BehaviorTree>

  <BehaviorTree ID="MissionPointThree_1">
    <Sequence>
      <!-- <Docking final_pose="{PrevGoal}"
                isPureDocking="0"
                dock_type="mission_dock_y"
                shift="0"
                offset="0.2"
                base="1.105, 0.6, 3"
                _description="material point 6"/> -->
      <Docking final_pose="{PrevGoal}"
                isPureDocking="0"
                dock_type="mission_dock_y"
                shift="0"
                offset="0.2"
                base="1.905, 0.6, 3"
                _description="material point 3"/>
      <ForceSuccess>
        <Timeout msec="6000">
          <FirmwareMission mission_status="{x}"
                           mission_type="21"
                           _description="take the raw material"/>
        </Timeout>
      </ForceSuccess>
      <Docking final_pose="{PrevGoal}"
                isPureDocking="0"
                dock_type="mission_dock_x"
                shift="0"
                offset="0"
                base="0.3, 0.7, 2"
                _description="though pose"/>
      <Docking final_pose="{PrevGoal}"
                isPureDocking="0"
                dock_type="mission_dock_x"
                shift="0"
                offset="-0.1"
                base="0.325, 0.47, 2"
                _description="material point 7"/>
      <ForceSuccess>
        <Timeout msec="6000">
          <FirmwareMission mission_status="{x}"
                           mission_type="11"
                           _description="take one level"/>
        </Timeout>
      </ForceSuccess>
      <ForceSuccess>
        <Timeout msec="6000">
          <FirmwareMission mission_status="{x}"
                           mission_type="31"
                           _description="lift the grabber"/>
        </Timeout>
      </ForceSuccess>
      <Docking final_pose="{PrevGoal}"
                isPureDocking="0"
                dock_type="mission_dock_x"
                shift="0"
                offset="0"
                base="0.4, 0.7, 2.5"
                _description="though pose"/>
      <Docking final_pose="{PrevGoal}"
                isPureDocking="0"
                dock_type="mission_dock_y"
                shift="0"
                offset="-0.1"
                base="1.25, 0.5, 3"
                _description="mission point 3"/>
      <ForceSuccess>
        <Timeout msec="6000">
          <FirmwareMission mission_status="{x}"
                           mission_type="30"
                           _description="low down the grabber"/>
        </Timeout>
      </ForceSuccess>
      <SubTree ID="ThreeLevelsBot1"
               BACK_L="0.2"
               DOCK_DIR="mission_dock_y"
               FORWARD_L="-0.15"
               BACK_M="0.1"
               BACK_S="0.047"
               FORWARD_M="-0.09"
               FORWARD_S="-0.065"
               _autoremap="true"/>
    </Sequence>
  </BehaviorTree>

  <BehaviorTree ID="NavTest">
    <Sequence>
      <Docking final_pose="{PrevGoal}"
               isPureDocking="0"
               dock_type="mission_dock_y"
               shift="0"
               offset="0.2"
               base="2.18, 1.375, 3"
               _description="material point 0"/>
      <Sequence>
        <ForceSuccess>
          <Timeout msec="6000">
            <FirmwareMission mission_status="{x}"
                            mission_type="21"
                            _description="take the raw material"/>
          </Timeout>
        </ForceSuccess>
        <Docking final_pose="{PrevGoal}"
                isPureDocking="0"
                dock_type="mission_dock_y"
                shift="0"
                offset="-0.2"
                base="{PrevGoal}"
                _description="step back to release"/>
        <ForceSuccess>
          <Timeout msec="6000">
            <FirmwareMission mission_status="{x}"
                            mission_type="20"
                            _description="take the raw material"/>
          </Timeout>
        </ForceSuccess>
      </Sequence>
      <Docking final_pose="{PrevGoal}"
               isPureDocking="0"
               dock_type="mission_dock_x"
               shift="0"
               offset="0.2"
               base="2.575, 1.32, 2"
               _description="material point 1"/>
      <Sequence>
        <ForceSuccess>
          <Timeout msec="6000">
            <FirmwareMission mission_status="{x}"
                            mission_type="21"
                            _description="take the raw material"/>
          </Timeout>
        </ForceSuccess>
        <Docking final_pose="{PrevGoal}"
                isPureDocking="0"
                dock_type="mission_dock_x"
                shift="0"
                offset="-0.2"
                base="{PrevGoal}"
                _description="step back to release"/>
        <ForceSuccess>
          <Timeout msec="6000">
            <FirmwareMission mission_status="{x}"
                            mission_type="20"
                            _description="take the raw material"/>
          </Timeout>
        </ForceSuccess>
      </Sequence>
      <Docking final_pose="{PrevGoal}"
               isPureDocking="0"
               dock_type="mission_dock_x"
               shift="0"
               offset="0.2"
               base="2.575, 0.41, 2"
               _description="material point 2"/>
      <Sequence>
        <ForceSuccess>
          <Timeout msec="6000">
            <FirmwareMission mission_status="{x}"
                            mission_type="21"
                            _description="take the raw material"/>
          </Timeout>
        </ForceSuccess>
        <Docking final_pose="{PrevGoal}"
                isPureDocking="0"
                dock_type="mission_dock_x"
                shift="0"
                offset="-0.2"
                base="{PrevGoal}"
                _description="step back to release"/>
        <ForceSuccess>
          <Timeout msec="6000">
            <FirmwareMission mission_status="{x}"
                            mission_type="20"
                            _description="take the raw material"/>
          </Timeout>
        </ForceSuccess>
      </Sequence>
      <Docking final_pose="{PrevGoal}"
               isPureDocking="0"
               dock_type="mission_dock_y"
               shift="0"
               offset="0.2"
               base="1.905, 0.6, 3"
               _description="material point 3"/>
      <Sequence>
        <ForceSuccess>
          <Timeout msec="6000">
            <FirmwareMission mission_status="{x}"
                            mission_type="21"
                            _description="take the raw material"/>
          </Timeout>
        </ForceSuccess>
        <Docking final_pose="{PrevGoal}"
                isPureDocking="0"
                dock_type="mission_dock_y"
                shift="0"
                offset="-0.2"
                base="{PrevGoal}"
                _description="step back to release"/>
        <ForceSuccess>
          <Timeout msec="6000">
            <FirmwareMission mission_status="{x}"
                            mission_type="20"
                            _description="take the raw material"/>
          </Timeout>
        </ForceSuccess>
      </Sequence>
      <Docking final_pose="{PrevGoal}"
               isPureDocking="0"
               dock_type="mission_dock_y"
               shift="0"
               offset="-0.2"
               base="2.22, 0.6, 1"
               _description="material point 4"/>
      <Sequence>
        <ForceSuccess>
          <Timeout msec="6000">
            <FirmwareMission mission_status="{x}"
                            mission_type="21"
                            _description="take the raw material"/>
          </Timeout>
        </ForceSuccess>
        <Docking final_pose="{PrevGoal}"
                isPureDocking="0"
                dock_type="mission_dock_y"
                shift="0"
                offset="0.2"
                base="{PrevGoal}"
                _description="step back to release"/>
      </Sequence>
      <Docking final_pose="{PrevGoal}"
               isPureDocking="0"
               dock_type="mission_dock_y"
               shift="0"
               offset="-0.2"
               base="0.778, 0.6, 1"
               _description="material point 5"/>
      <Sequence>
        <ForceSuccess>
          <Timeout msec="6000">
            <FirmwareMission mission_status="{x}"
                            mission_type="21"
                            _description="take the raw material"/>
          </Timeout>
        </ForceSuccess>
        <Docking final_pose="{PrevGoal}"
                isPureDocking="0"
                dock_type="mission_dock_y"
                shift="0"
                offset="0.2"
                base="{PrevGoal}"
                _description="step back to release"/>
        <ForceSuccess>
          <Timeout msec="6000">
            <FirmwareMission mission_status="{x}"
                            mission_type="20"
                            _description="take the raw material"/>
          </Timeout>
        </ForceSuccess>
      </Sequence>
      <Docking final_pose="{PrevGoal}"
               isPureDocking="0"
               dock_type="mission_dock_y"
               shift="0"
               offset="0.2"
               base="1.105, 0.6, 3"
               _description="material point 6"/>
      <Sequence>
        <ForceSuccess>
          <Timeout msec="6000">
            <FirmwareMission mission_status="{x}"
                            mission_type="21"
                            _description="take the raw material"/>
          </Timeout>
        </ForceSuccess>
        <Docking final_pose="{PrevGoal}"
                isPureDocking="0"
                dock_type="mission_dock_y"
                shift="0"
                offset="-0.2"
                base="{PrevGoal}"
                _description="step back to release"/>
        <ForceSuccess>
          <Timeout msec="6000">
            <FirmwareMission mission_status="{x}"
                            mission_type="20"
                            _description="take the raw material"/>
          </Timeout>
        </ForceSuccess>
      </Sequence>
      <Docking final_pose="{PrevGoal}"
               isPureDocking="0"
               dock_type="mission_dock_x"
               shift="0"
               offset="-0.2"
               base="0.425, 0.415, 0"
               _description="material point 7"/>
      <Sequence>
        <ForceSuccess>
          <Timeout msec="6000">
            <FirmwareMission mission_status="{x}"
                            mission_type="21"
                            _description="take the raw material"/>
          </Timeout>
        </ForceSuccess>
        <Docking final_pose="{PrevGoal}"
                isPureDocking="0"
                dock_type="mission_dock_x"
                shift="0"
                offset="0.2"
                base="{PrevGoal}"
                _description="step back to release"/>
        <ForceSuccess>
          <Timeout msec="6000">
            <FirmwareMission mission_status="{x}"
                            mission_type="20"
                            _description="take the raw material"/>
          </Timeout>
        </ForceSuccess>
      </Sequence>
      <Docking final_pose="{PrevGoal}"
               isPureDocking="0"
               dock_type="mission_dock_x"
               shift="0"
               offset="-0.2"
               base="0.425, 1.34, 0"
               _description="material point 8"/>
      <Sequence>
        <ForceSuccess>
          <Timeout msec="6000">
            <FirmwareMission mission_status="{x}"
                            mission_type="21"
                            _description="take the raw material"/>
          </Timeout>
        </ForceSuccess>
        <Docking final_pose="{PrevGoal}"
                isPureDocking="0"
                dock_type="mission_dock_x"
                shift="0"
                offset="0.2"
                base="{PrevGoal}"
                _description="step back to release"/>
        <ForceSuccess>
          <Timeout msec="6000">
            <FirmwareMission mission_status="{x}"
                            mission_type="20"
                            _description="take the raw material"/>
          </Timeout>
        </ForceSuccess>
      </Sequence>
      <Docking final_pose="{PrevGoal}"
               isPureDocking="0"
               dock_type="mission_dock_y"
               shift="0"
               offset="0.2"
               base="0.822, 1.375, 3"
               _description="material point 9"/>
    </Sequence>
  </BehaviorTree>

  <BehaviorTree ID="NavTest1">
    <Sequence>
      <Docking final_pose="{PrevGoal}"
               isPureDocking="0"
               dock_type="mission_dock_y"
               shift="0"
               offset="0.2"
               base="2.235, 1.375, 1"
               _description="material point 0"/>
      <Sequence>
        <ForceSuccess>
          <Timeout msec="6000">
            <FirmwareMission mission_status="{x}"
                            mission_type="21"
                            _description="take the raw material"/>
          </Timeout>
        </ForceSuccess>
        <Docking final_pose="{PrevGoal}"
                isPureDocking="0"
                dock_type="mission_dock_y"
                shift="0"
                offset="-0.2"
                base="{PrevGoal}"
                _description="step back to release"/>
        <ForceSuccess>
          <Timeout msec="6000">
            <FirmwareMission mission_status="{x}"
                            mission_type="20"
                            _description="take the raw material"/>
          </Timeout>
        </ForceSuccess>
      </Sequence>
      <Docking final_pose="{PrevGoal}"
               isPureDocking="0"
               dock_type="mission_dock_x"
               shift="0"
               offset="0.2"
               base="2.575, 1.265, 0"
               _description="material point 1"/>
      <Sequence>
        <ForceSuccess>
          <Timeout msec="6000">
            <FirmwareMission mission_status="{x}"
                            mission_type="21"
                            _description="take the raw material"/>
          </Timeout>
        </ForceSuccess>
        <Docking final_pose="{PrevGoal}"
                isPureDocking="0"
                dock_type="mission_dock_x"
                shift="0"
                offset="-0.2"
                base="{PrevGoal}"
                _description="step back to release"/>
        <ForceSuccess>
          <Timeout msec="6000">
            <FirmwareMission mission_status="{x}"
                            mission_type="20"
                            _description="take the raw material"/>
          </Timeout>
        </ForceSuccess>
      </Sequence>
      <Docking final_pose="{PrevGoal}"
               isPureDocking="0"
               dock_type="mission_dock_x"
               shift="0"
               offset="0.2"
               base="2.575, 0.355, 0"
               _description="material point 2"/>
      <Sequence>
        <ForceSuccess>
          <Timeout msec="6000">
            <FirmwareMission mission_status="{x}"
                            mission_type="21"
                            _description="take the raw material"/>
          </Timeout>
        </ForceSuccess>
        <Docking final_pose="{PrevGoal}"
                isPureDocking="0"
                dock_type="mission_dock_x"
                shift="0"
                offset="-0.2"
                base="{PrevGoal}"
                _description="step back to release"/>
        <ForceSuccess>
          <Timeout msec="6000">
            <FirmwareMission mission_status="{x}"
                            mission_type="20"
                            _description="take the raw material"/>
          </Timeout>
        </ForceSuccess>
      </Sequence>
      <Docking final_pose="{PrevGoal}"
               isPureDocking="0"
               dock_type="mission_dock_y"
               shift="0"
               offset="0.2"
               base="1.96, 0.6, 1"
               _description="material point 3"/>
      <Sequence>
        <ForceSuccess>
          <Timeout msec="6000">
            <FirmwareMission mission_status="{x}"
                            mission_type="21"
                            _description="take the raw material"/>
          </Timeout>
        </ForceSuccess>
        <Docking final_pose="{PrevGoal}"
                isPureDocking="0"
                dock_type="mission_dock_y"
                shift="0"
                offset="-0.2"
                base="{PrevGoal}"
                _description="step back to release"/>
        <ForceSuccess>
          <Timeout msec="6000">
            <FirmwareMission mission_status="{x}"
                            mission_type="20"
                            _description="take the raw material"/>
          </Timeout>
        </ForceSuccess>
      </Sequence>
      <Docking final_pose="{PrevGoal}"
               isPureDocking="0"
               dock_type="mission_dock_y"
               shift="0"
               offset="-0.2"
               base="2.165, 0.6, 3"
               _description="material point 4"/>
      <Sequence>
        <ForceSuccess>
          <Timeout msec="6000">
            <FirmwareMission mission_status="{x}"
                            mission_type="21"
                            _description="take the raw material"/>
          </Timeout>
        </ForceSuccess>
        <Docking final_pose="{PrevGoal}"
                isPureDocking="0"
                dock_type="mission_dock_y"
                shift="0"
                offset="0.2"
                base="{PrevGoal}"
                _description="step back to release"/>
      </Sequence>
      <Docking final_pose="{PrevGoal}"
               isPureDocking="0"
               dock_type="mission_dock_y"
               shift="0"
               offset="-0.2"
               base="0.72, 0.6, 3"
               _description="material point 5"/>
      <Sequence>
        <ForceSuccess>
          <Timeout msec="6000">
            <FirmwareMission mission_status="{x}"
                            mission_type="11"
                            _description="take the raw material"/>
          </Timeout>
        </ForceSuccess>
        <Docking final_pose="{PrevGoal}"
                isPureDocking="0"
                dock_type="mission_dock_y"
                shift="0"
                offset="0.2"
                base="{PrevGoal}"
                _description="step back to release"/>
        <ForceSuccess>
          <Timeout msec="6000">
            <FirmwareMission mission_status="{x}"
                            mission_type="10"
                            _description="take the raw material"/>
          </Timeout>
        </ForceSuccess>
      </Sequence>
      <Docking final_pose="{PrevGoal}"
               isPureDocking="0"
               dock_type="mission_dock_y"
               shift="0"
               offset="0.2"
               base="1.16, 0.6, 1"
               _description="material point 6"/>
      <Sequence>
        <ForceSuccess>
          <Timeout msec="6000">
            <FirmwareMission mission_status="{x}"
                            mission_type="11"
                            _description="take the raw material"/>
          </Timeout>
        </ForceSuccess>
        <Docking final_pose="{PrevGoal}"
                isPureDocking="0"
                dock_type="mission_dock_y"
                shift="0"
                offset="-0.2"
                base="{PrevGoal}"
                _description="step back to release"/>
        <ForceSuccess>
          <Timeout msec="6000">
            <FirmwareMission mission_status="{x}"
                            mission_type="10"
                            _description="take the raw material"/>
          </Timeout>
        </ForceSuccess>
      </Sequence>
      <Docking final_pose="{PrevGoal}"
               isPureDocking="0"
               dock_type="mission_dock_x"
               shift="0"
               offset="-0.2"
               base="0.425, 0.47, 2"
               _description="material point 7"/>
      <Sequence>
        <ForceSuccess>
          <Timeout msec="6000">
            <FirmwareMission mission_status="{x}"
                            mission_type="11"
                            _description="take the raw material"/>
          </Timeout>
        </ForceSuccess>
        <Docking final_pose="{PrevGoal}"
                isPureDocking="0"
                dock_type="mission_dock_x"
                shift="0"
                offset="0.2"
                base="{PrevGoal}"
                _description="step back to release"/>
        <ForceSuccess>
          <Timeout msec="6000">
            <FirmwareMission mission_status="{x}"
                            mission_type="10"
                            _description="take the raw material"/>
          </Timeout>
        </ForceSuccess>
      </Sequence>
      <Docking final_pose="{PrevGoal}"
               isPureDocking="0"
               dock_type="mission_dock_x"
               shift="0"
               offset="-0.2"
               base="0.425, 1.4, 2"
               _description="material point 8"/>
      <Sequence>
        <ForceSuccess>
          <Timeout msec="6000">
            <FirmwareMission mission_status="{x}"
                            mission_type="11"
                            _description="take the raw material"/>
          </Timeout>
        </ForceSuccess>
        <Docking final_pose="{PrevGoal}"
                isPureDocking="0"
                dock_type="mission_dock_x"
                shift="0"
                offset="0.2"
                base="{PrevGoal}"
                _description="step back to release"/>
        <ForceSuccess>
          <Timeout msec="6000">
            <FirmwareMission mission_status="{x}"
                            mission_type="10"
                            _description="take the raw material"/>
          </Timeout>
        </ForceSuccess>
      </Sequence>
      <Docking final_pose="{PrevGoal}"
               isPureDocking="0"
               dock_type="mission_dock_y"
               shift="0"
               offset="0.2"
               base="0.875, 1.375, 1"
               _description="material point 9"/>
    </Sequence>
  </BehaviorTree>

  <BehaviorTree ID="ThreeLevelsBot1">
    <Fallback>
      <Sequence>
        <ForceSuccess>
          <Timeout msec="6000">
            <FirmwareMission mission_status="{x}"
                             mission_type="10"
                             _description="front put 1 level"/>
          </Timeout>
        </ForceSuccess>
        <Docking final_pose="{PrevGoal}"
                 isPureDocking="1"
                 dock_type="{DOCK_DIR}"
                 shift="0"
                 offset="{BACK_L}"
                 base="{PrevGoal}"
                 _description="step back"/>
        <Rotation final_pose="{PrevGoal}"
                  degree="180"
                  base="{PrevGoal}"/>
        <Docking final_pose="{PrevGoal}"
                 isPureDocking="0"
                 dock_type="{DOCK_DIR}"
                 shift="0.045"
                 offset="0"
                 base="{PrevGoal}"
                 _description="step back"/>
        <SubTree ID="2levelmissionTest"
                 _autoremap="true"/>
        <!-- <Docking final_pose="{PrevGoal}"
                 isPureDocking="1"
                 dock_type="{DOCK_DIR}"
                 shift="0"
                 offset="{BACK_M}"
                 base="{PrevGoal}"
                 _description="backward to free up to space for grabber to fall down"/>
        <ForceSuccess>
          <Timeout msec="6000">
            <FirmwareMission mission_status="{x}"
                             mission_type="30"
                             _description="arm down"/>
          </Timeout>
        </ForceSuccess> -->
        <Docking final_pose="{PrevGoal}"
                 isPureDocking="0"
                 dock_type="{DOCK_DIR}"
                 shift="0"
                 offset="{FORWARD_S}"
                 base="{PrevGoal}"
                 _description="forward to take two levels"/>
        <Docking final_pose="{PrevGoal}"
                 isPureDocking="1"
                 dock_type="{DOCK_DIR}"
                 shift="0"
                 offset="{FORWARD_S}"
                 base="{PrevGoal}"
                 _description="forward to take two levels"/>
        <ForceSuccess>
          <Timeout msec="6000">
            <FirmwareMission mission_status="{x}"
                             mission_type="11"
                             _description="front take 2 level"/>
          </Timeout>
        </ForceSuccess>
        <ForceSuccess>
          <Timeout msec="6000">
            <FirmwareMission mission_status="{x}"
                             mission_type="31"
                             _description="arm up"/>
          </Timeout>
        </ForceSuccess>
        <Docking final_pose="{PrevGoal}"
                 isPureDocking="1"
                 dock_type="{DOCK_DIR}"
                 shift="0"
                 offset="{FORWARD_L}"
                 base="{PrevGoal}"
                 _description="forward to place two levels on one level"/>
        <ForceSuccess>
          <Timeout msec="6000">
            <FirmwareMission mission_status="{x}"
                              mission_type="33"
                              _description="arm to one level height"/>
          </Timeout>
        </ForceSuccess>
        <Parallel failure_count="1"
          success_count="2">
          <Docking final_pose="{PrevGoal}"
                  isPureDocking="1"
                  dock_type="{DOCK_DIR}"
                  shift="0"
                  offset="{BACK_M}"
                  base="{PrevGoal}"
                  _description="step back"/>
          <Sequence>
            <Sleep msec="500"/>
            <ForceSuccess>
              <Timeout msec="6000">
                <FirmwareMission mission_status="{x}"
                                  mission_type="30"
                                  _description="low down the grabber"/>
              </Timeout>
            </ForceSuccess>
          </Sequence>
        </Parallel>
      </Sequence>
      <MissionFinisher failed_levels="{a}"
                       success_levels="{b}"
                       robot_type="1"
                       step_results="5"/>
    </Fallback>
  </BehaviorTree>

  <BehaviorTree ID="TwoLevelsBot1">
    <Fallback>
      <Sequence>
        <ForceSuccess>
          <Timeout msec="6000">
            <FirmwareMission mission_status="{x}"
                             mission_type="20"
                             _description="back put the raw material"/>
          </Timeout>
        </ForceSuccess>
        <Parallel failure_count="1"
                  success_count="3">
          <Sequence>
            <Docking final_pose="{PrevGoal}"
                     isPureDocking="1"
                     dock_type="{DOCK_DIR}"
                     shift="0"
                     offset="{BACK_M}"
                     base="{PrevGoal}"
                     _description="step back"/>
            <Rotation final_pose="{PrevGoal}"
                      degree="180"
                      base="{PrevGoal}"
                      _description="rotate to face the material"/>
          </Sequence>
          <ForceSuccess>
            <Timeout msec="6000">
              <FirmwareMission mission_status="{x}"
                               mission_type="32"
                               _description="arm up"/>
            </Timeout>
          </ForceSuccess>
          <ForceSuccess>
            <Timeout msec="6000">
              <FirmwareMission mission_status="{x}"
                               mission_type="91"
                               _description="enable back magnet"/>
            </Timeout>
          </ForceSuccess>
        </Parallel>
        <Docking final_pose="{PrevGoal}"
                 isPureDocking="0"
                 dock_type="{DOCK_DIR}"
                 shift="-0.045"
                 offset="{FORWARD_M}"
                 base="{PrevGoal}"
                 _description="docking to the material"/>
        <ForceSuccess>
          <Timeout msec="6000">
            <FirmwareMission mission_status="{x}"
                             mission_type="71"
                             _description="take board"/>
          </Timeout>
        </ForceSuccess>
        <Parallel failure_count="1"
                  success_count="2">
          <Docking final_pose="{PrevGoal}"
                   isPureDocking="1"
                   dock_type="{DOCK_DIR}"
                   shift="0"
                   offset="{BACK_S}"
                   base="{PrevGoal}"
                   _description="step back"/>
          <ForceSuccess>
            <Timeout msec="6000">
              <FirmwareMission mission_status="{x}"
                               mission_type="30"
                               _description="arm down"/>
            </Timeout>
          </ForceSuccess>
        </Parallel>
        <Docking final_pose="{PrevGoal}"
                 isPureDocking="1"
                 dock_type="{DOCK_DIR}"
                 shift="0"
                 offset="{FORWARD_S}"
                 base="{PrevGoal}"
                 _description="go forward "/>
        <ForceSuccess>
          <Timeout msec="6000">
            <FirmwareMission mission_status="{x}"
                             mission_type="11"
                             _description="front take 1 level"/>
          </Timeout>
        </ForceSuccess>
        <ForceSuccess>
          <Timeout msec="6000">
            <FirmwareMission mission_status="{x}"
                             mission_type="70"
                             _description="place board"/>
          </Timeout>
        </ForceSuccess>
        <ForceSuccess>
          <Timeout msec="6000">
            <FirmwareMission mission_status="{x}"
                              mission_type="31"
                              _description="arm to one level height"/>
          </Timeout>
        </ForceSuccess>
        <Docking final_pose="{PrevGoal}"
                  isPureDocking="0"
                  dock_type="{DOCK_DIR}"
                  shift="0.09"
                  offset="0"
                  base="{PrevGoal}"/>
        <ForceSuccess>
          <Timeout msec="6000">
            <FirmwareMission mission_status="{x}"
                              mission_type="33"
                              _description="arm to one level height"/>
          </Timeout>
        </ForceSuccess>
        <Parallel failure_count="1"
          success_count="2">
          <Docking final_pose="{PrevGoal}"
                  isPureDocking="1"
                  dock_type="{DOCK_DIR}"
                  shift="0"
                  offset="{BACK_M}"
                  base="{PrevGoal}"
                  _description="step back"/>
          <Sequence>
            <Sleep msec="1000"/>
            <ForceSuccess>
              <Timeout msec="6000">
                <FirmwareMission mission_status="{x}"
                                  mission_type="30"
                                  _description="low down the grabber"/>
              </Timeout>
            </ForceSuccess>
          </Sequence>
        </Parallel>
      </Sequence>
      <MissionFinisher failed_levels="{a}"
                       success_levels="{b}"
                       robot_type="1"
                       step_results="4"/>
    </Fallback>
  </BehaviorTree>

  <!-- Description of Node Models (used by Groot) -->
  <TreeNodesModel>
    <Action ID="BTStarter">
      <output_port name="result"
                   type="int"/>
    </Action>
    <Action ID="CamReceiver"/>
    <Action ID="Docking">
      <output_port name="final_pose"
                   type="geometry_msgs::msg::PoseStamped_&lt;std::allocator&lt;void&gt; &gt;"/>
      <input_port name="isPureDocking"
                  type="bool"/>
      <input_port name="dock_type"
                  type="std::string"/>
      <input_port name="shift"
                  type="double"/>
      <input_port name="offset"
                  type="double"/>
      <input_port name="base"
                  type="geometry_msgs::msg::PoseStamped_&lt;std::allocator&lt;void&gt; &gt;"/>
    </Action>
    <Action ID="FirmwareMission">
      <output_port name="mission_status"
                   type="int"/>
      <input_port name="mission_type"
                  type="int"/>
    </Action>
    <Action ID="MissionFinisher">
      <output_port name="failed_levels"
                   type="int"/>
      <output_port name="success_levels"
                   type="int"/>
      <input_port name="robot_type"
                  type="bool"/>
      <input_port name="step_results"
                  type="std::deque&lt;int, std::allocator&lt;int&gt; &gt;"/>
    </Action>
    <Action ID="Navigation">
      <output_port name="final_pose"
                   type="geometry_msgs::msg::PoseStamped_&lt;std::allocator&lt;void&gt; &gt;"/>
      <input_port name="type"
                  type="int"/>
      <input_port name="goal"
                  type="geometry_msgs::msg::PoseStamped_&lt;std::allocator&lt;void&gt; &gt;"/>
    </Action>
    <Action ID="Rotation">
      <output_port name="final_pose"
                   type="geometry_msgs::msg::PoseStamped_&lt;std::allocator&lt;void&gt; &gt;"/>
      <input_port name="degree"
                  type="double"/>
      <input_port name="base"
                  type="geometry_msgs::msg::PoseStamped_&lt;std::allocator&lt;void&gt; &gt;"/>
    </Action>
  </TreeNodesModel>

</root>
