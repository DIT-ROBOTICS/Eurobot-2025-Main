<?xml version="1.0" encoding="UTF-8"?>
<root BTCPP_format="4">
  <BehaviorTree ID="Decorator-Simple-Demo">
    <Sequence>
      <Inverter>
        <Testing output=""
                 input="1"/>
      </Inverter>
      <Testing output=""
               input="2"/>
    </Sequence>
  </BehaviorTree>

  <BehaviorTree ID="Decorator-Simple-Demo-2">
    <Repeat num_cycles="2">
      <Sequence>
        <Testing output=""
                 input="1"/>
        <Testing output=""
                 input="2"/>
      </Sequence>
    </Repeat>
  </BehaviorTree>

  <BehaviorTree ID="Decorator-Simple-Demo-3">
    <Timeout msec="400">
      <Testing output=""
               input="1"/>
    </Timeout>
  </BehaviorTree>

  <BehaviorTree ID="Elapse-Time-Check-Demo">
    <Sequence>
      <ElapseTimeCheck max_time_count="0.5">
        <Testing output=""
                 input="1"/>
      </ElapseTimeCheck>
      <ElapseTimeCheck max_time_count="0.5">
        <Testing output=""
                 input="2"/>
      </ElapseTimeCheck>
    </Sequence>
  </BehaviorTree>

  <BehaviorTree ID="Hey">
    <Sequence>
      <Testing output="{SOMETHING}"
               input="Hey"/>
      <Testing output="{SOMETHING}"
               input="{SOMETHING}"/>
    </Sequence>
  </BehaviorTree>

  <BehaviorTree ID="Loop-Demo">
    <Sequence>
      <LoopString if_empty="SUCCESS"
                  value="{VAL}"
                  queue="1;2;3;4">
        <Testing output=""
                 input="{VAL}"/>
      </LoopString>
    </Sequence>
  </BehaviorTree>

  <BehaviorTree ID="MainTree">
    <Sequence>
      <Testing output=""
               input=""/>
      <Sleep msec="10000"/>
    </Sequence>
  </BehaviorTree>

  <BehaviorTree ID="Navigation-Demo">
    <Sequence>
      <NavAction final_pose="{out}"
                 goal="2, 1, 0"/>
    </Sequence>
  </BehaviorTree>

  <BehaviorTree ID="Parallel-Demo">
    <Parallel failure_count="1"
              success_count="3">
      <Repeat num_cycles="1">
        <Testing output=""
                 input="Test1"/>
      </Repeat>
      <Repeat num_cycles="2">
        <Testing output=""
                 input="Test2"/>
      </Repeat>
      <Repeat num_cycles="3">
        <Testing output=""
                 input="Test3"/>
      </Repeat>
    </Parallel>
  </BehaviorTree>

  <BehaviorTree ID="Port-Remapping-Demo">
    <Sequence>
      <Sequence>
        <Testing output="{TEST}"
                 input="hello"/>
      </Sequence>
      <Testing output=""
               input="{TEST}"/>
    </Sequence>
  </BehaviorTree>

  <BehaviorTree ID="Simple-Navigation-Demo">
    <Sequence>
      <GeneratePathPoint path_point="{point_que}"/>
      <LoopWayPoint value="{point}"
                    if_empty="SUCCESS"
                    queue="{point_que}">
        <NavigationTemp goal="{point}"/>
      </LoopWayPoint>
    </Sequence>
  </BehaviorTree>

  <BehaviorTree ID="SubTree-Remapping-Demo">
    <Sequence>
      <SubTree ID="Test-SubTree-remapping"
               _autoremap="false"/>
      <Testing output=""
               input="{TEST}"/>
    </Sequence>
  </BehaviorTree>

  <BehaviorTree ID="Test-SubTree-remapping">
    <Sequence>
      <Testing output="{TEST}"
               input="hello"/>
      <Testing output="{TEST}"
               input="{TEST}"/>
    </Sequence>
  </BehaviorTree>

  <BehaviorTree ID="Stupid-Tree">
    <Sequence>
      <NavAction final_pose="{NavGoal}"
                 goal="2.5, 1.3, 3.14"/>
      <NavAction final_pose="{NavGoal}"
                 goal="2.6, 1.3, 3.14"/>
      <NavAction final_pose="{NavGoal}"
                 goal="2.5, 0.4, 0"/>
      <NavAction final_pose="{NavGoal}"
                 goal="2.6, 0.4, 0"/>
      <NavAction final_pose="{NavGoal}"
                 goal="2.5, 0.4, 0"/>
      <NavAction final_pose="{NavGoal}"
                 goal="2.6, 0.4, 0"/>
      <NavAction final_pose="{NavGoal}"
                 goal="2.5, 0.4, 0"/>
      <NavAction final_pose="{NavGoal}"
                 goal="2.5, 0.9, 0"/>
      <NavAction final_pose="{NavGoal}"
                 goal="2.6, 0.9, 0"/>
      <NavAction final_pose="{NavGoal}"
                 goal="2.5, 0.9, 0"/>
      <NavAction final_pose="{NavGoal}"
                 goal="2.5, 0.9, 3.14"/>
      <NavAction final_pose="{NavGoal}"
                 goal="2.6, 0.9, 3.14"/>
      <NavAction final_pose="{NavGoal}"
                 goal="2.6, 0.9, 0"/>
      <NavAction final_pose="{NavGoal}"
                 goal="2.5, 0.9, 0"/>
      <NavAction final_pose="{NavGoal}"
                 goal="2.4, 0.9, 0"/>
      <NavAction final_pose="{NavGoal}"
                 goal="2.5, 0.9, 0"/>
      <NavAction final_pose="{NavGoal}"
                 goal="2.4, 0.9, 0"/>
      <NavAction final_pose="{NavGoal}"
                 goal="2.5, 0.9, 0"/>
      <NavAction final_pose="{NavGoal}"
                 goal="2.4, 0.9, 0"/>
      <NavAction final_pose="{NavGoal}"
                 goal="2.5, 0.9, 0"/>
    </Sequence>
  </BehaviorTree>

  <BehaviorTree ID="Topic-Demo">
    <Sequence>
      <StandardTopicPub number="3"
                        topic_name="number"/>
      <StandardTopicSub output="{out1}"
                        topic_name="number"/>
      <TopicPubTest number="10"
                    topic_name="number"/>
      <TopicSubTest out="{out2}"/>
    </Sequence>
  </BehaviorTree>

  <BehaviorTree ID="tf-Broadcast-Demo">
    <Repeat num_cycles="1000">
      <Sequence>
        <Sleep msec="100"/>
        <LocalizationTemp output="{out}"
                          input="1"/>
      </Sequence>
    </Repeat>
  </BehaviorTree>

  <!-- Description of Node Models (used by Groot) -->
  <TreeNodesModel>
    <Decorator ID="ElapseTimeCheck">
      <input_port name="max_time_count"
                  type="double"/>
    </Decorator>
    <Action ID="GeneratePathPoint">
      <output_port name="path_point"
                   type="std::shared_ptr&lt;std::deque&lt;geometry_msgs::msg::TwistStamped_&lt;std::allocator&lt;void&gt; &gt;, std::allocator&lt;geometry_msgs::msg::TwistStamped_&lt;std::allocator&lt;void&gt; &gt; &gt; &gt; &gt;"/>
    </Action>
    <Action ID="LocalizationTemp">
      <output_port name="output"
                   type="geometry_msgs::msg::TwistStamped_&lt;std::allocator&lt;void&gt; &gt;"/>
      <input_port name="input"
                  type="std::string"/>
    </Action>
    <Decorator ID="LoopWayPoint">
      <output_port name="value"
                   type="geometry_msgs::msg::TwistStamped_&lt;std::allocator&lt;void&gt; &gt;"/>
      <input_port name="if_empty"
                  default="SUCCESS"
                  type="BT::NodeStatus">Status to return if queue is empty: SUCCESS, FAILURE, SKIPPED</input_port>
      <inout_port name="queue"
                  type="std::shared_ptr&lt;std::deque&lt;geometry_msgs::msg::TwistStamped_&lt;std::allocator&lt;void&gt; &gt;, std::allocator&lt;geometry_msgs::msg::TwistStamped_&lt;std::allocator&lt;void&gt; &gt; &gt; &gt; &gt;"/>
    </Decorator>
    <Action ID="NavAction">
      <output_port name="final_pose"
                   type="geometry_msgs::msg::PoseStamped_&lt;std::allocator&lt;void&gt; &gt;"/>
      <input_port name="goal"
                  type="geometry_msgs::msg::PoseStamped_&lt;std::allocator&lt;void&gt; &gt;"/>
    </Action>
    <Action ID="NavigationTemp">
      <input_port name="goal"
                  type="geometry_msgs::msg::TwistStamped_&lt;std::allocator&lt;void&gt; &gt;"/>
    </Action>
    <Condition ID="StandardTopicPub">
      <input_port name="number"
                  type="int"/>
      <input_port name="topic_name"
                  type="std::string"/>
    </Condition>
    <Condition ID="StandardTopicSub">
      <output_port name="output"
                   type="int"/>
      <input_port name="topic_name"
                  type="std::string"/>
    </Condition>
    <Action ID="Testing">
      <output_port name="output"
                   type="std::string"/>
      <input_port name="input"
                  type="std::string"/>
    </Action>
    <Action ID="TopicPubTest">
      <input_port name="number"
                  type="int"/>
      <input_port name="topic_name"
                  type="std::string"/>
    </Action>
    <Action ID="TopicSubTest">
      <output_port name="out"
                   type="int"/>
    </Action>
  </TreeNodesModel>

</root>
