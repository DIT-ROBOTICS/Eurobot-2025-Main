<?xml version='1.0' encoding='utf-8'?>
<root><BehaviorTree ID="BannerMission">
    <Sequence>
      <Switch2 case_1="0" case_2="1" variable="{BANNER_PLACE}">
        <Fallback>
          <Docking final_pose="{PrevGoal}" isPureDocking="0" dock_type="dock_y_slow_precise" shift="0" offset="-0.1" base="0.25, 0.3, 0" />
          <Docking final_pose="{PrevGoal}" isPureDocking="0" dock_type="dock_y_slow_precise" shift="0" offset="-0.1" base="1.75, 0.3, 0" />
          <Docking final_pose="{PrevGoal}" isPureDocking="0" dock_type="dock_y_slow_precise" shift="0" offset="-0.1" base="2.25, 0.3, 0" />
        </Fallback>
        <Fallback>
          <Docking final_pose="{PrevGoal}" isPureDocking="0" dock_type="dock_y_slow_precise" shift="0" offset="-0.1" base="1.75, 0.3, 0" />
          <Docking final_pose="{PrevGoal}" isPureDocking="0" dock_type="dock_y_slow_precise" shift="0" offset="-0.1" base="2.25, 0.3, 0" />
          <Docking final_pose="{PrevGoal}" isPureDocking="0" dock_type="dock_y_slow_precise" shift="0" offset="-0.1" base="0.25, 0.3, 0" />
        </Fallback>
        <Fallback>
          <Docking final_pose="{PrevGoal}" isPureDocking="0" dock_type="dock_y_slow_precise" shift="0" offset="-0.1" base="2.25, 0.3, 0" _description="go to place the banner" />
          <Docking final_pose="{PrevGoal}" isPureDocking="0" dock_type="dock_y_slow_precise" shift="0" offset="-0.1" base="1.75, 0.3, 0" />
          <Docking final_pose="{PrevGoal}" isPureDocking="0" dock_type="dock_y_slow_precise" shift="0" offset="-0.1" base="0.25, 0.3, 0" />
        </Fallback>
      </Switch2>
      <Sleep msec="1000" />
    </Sequence>
  </BehaviorTree>

  <BehaviorTree ID="DockingSubTree">
    <Sequence>
      <MySetBlackboard new_value="{notTimeout}" blackboard_value="false" blackboard_key="Timeout" />
      <RetryUntilSuccessful num_attempts="{retry}" _failureIf="Timeout">
        <Fallback>
          <Parallel failure_count="1" success_count="1">
            <Docking final_pose="{final_pose}" isPureDocking="{isPureDocking}" dock_type="{dock_type}" shift="{shift}" offset="{offset}" base="{base}" _description="step back" />
            <Sequence>
              <Sleep msec="{timeout}" />
              <MySetBlackboard new_value="{notTimeout}" blackboard_value="true" blackboard_key="Timeout" />
            </Sequence>
          </Parallel>
          <ForceFailure>
            <Sleep msec="{sleep}" />
          </ForceFailure>
        </Fallback>
      </RetryUntilSuccessful>
    </Sequence>
  </BehaviorTree>

  <BehaviorTree ID="FirmwareTest">
    <Switch3 case_1="1" case_2="2" case_3="3" variable="0">
      <SubTree ID="OneLevelBot1new" _autoremap="true" />
      <SubTree ID="TwoLevelsBot1new" back="0.2, 0.1, 0.05" forward="0.15, 0.13, 0.065" shift="0.11" dock_type="{dock_type}" _autoremap="true" />
      <SubTree ID="ThreeLevelsBot1new" back="0.2, 0.1, 0.05" forward="0.15, 0.09, 0.065" shift="0.11" dock_type="{dock_type}" _autoremap="true" />
      <Sequence>
        <ForceSuccess>
          <Timeout msec="6000">
            <FirmwareMission mission_status="{x}" mission_type="31" _description="lift the front grabber" />
          </Timeout>
        </ForceSuccess>
        <ForceSuccess>
          <Timeout msec="6000">
            <FirmwareMission mission_status="{x}" mission_type="30" _description="down the front grabber" />
          </Timeout>
        </ForceSuccess>
        <Docking final_pose="{PrevGoal}" isPureDocking="0" dock_type="mission_dock_y" shift="0" offset="0" base="0.9, 0.9, 2" />
      </Sequence>
    </Switch3>
  </BehaviorTree>

  <BehaviorTree ID="FuncTest">
    <Sequence>
      <MySetBlackboard new_value="{notTimeout}" blackboard_value="true" blackboard_key="notTimeout" />
      <BTStarter result="{STATUS}" />
      <CamReceiver />
      <ForceSuccess>
        <Timeout msec="6000">
          <FirmwareMission mission_status="{x}" mission_type="11" _description="down the front grabber" />
        </Timeout>
      </ForceSuccess>
      <ForceSuccess>
        <Timeout msec="6000">
          <FirmwareMission mission_status="{x}" mission_type="10" _description="down the front grabber" />
        </Timeout>
      </ForceSuccess>
      <Sleep msec="50000" />
    </Sequence>
  </BehaviorTree>

  <BehaviorTree ID="MainTree">
    <Sequence>
      <Parallel failure_count="2" success_count="1">
        <Sequence>
          <Sequence>
            <BTStarter result="{STATUS}" />
            <CamReceiver />
          </Sequence>
          <ForceSuccess>
            <SubTree ID="MissionPointOne" _autoremap="true" />
          </ForceSuccess>
          <ForceSuccess>
            <SubTree ID="MissionPointTwo" _autoremap="true" />
          </ForceSuccess>
          <ForceSuccess>
            <SubTree ID="MissionPointThree" _autoremap="true" />
          </ForceSuccess>
        </Sequence>
        <Delay delay_msec="197000">
          <AlwaysSuccess />
        </Delay>
      </Parallel>
      <StopRobot />
      <Docking final_pose="{PrevGoal}" isPureDocking="0" dock_type="mission_dock_y" shift="0" offset="0" base="2.65, 1.6, 3" />
    </Sequence>
  </BehaviorTree>

  <BehaviorTree ID="MissionPointOne">
    <Sequence>
      <SetBlackboard value="0" output_key="hasCompleteMaterial" />
      <Fallback>
        <VisionCheck remap_offset="{offset}" remap_shift="{shift}" remap_dock_type="{dock_type}" remap_base="{base}" remap_index="{index}" shift="0" offset="-0.2" mission_type="back" dock_type="dock_x_slow_precise" base_index="8">
          <Docking final_pose="{PrevGoal}" isPureDocking="0" dock_type="{dock_type}" shift="{shift}" offset="{offset}" base="{base}" />
        </VisionCheck>
        <VisionCheck remap_offset="{offset}" remap_shift="{shift}" remap_dock_type="{dock_type}" remap_base="{base}" remap_index="{index}" shift="0" offset="-0.2" mission_type="back" dock_type="dock_x_fast_precise" base_index="-1">
          <Docking final_pose="{PrevGoal}" isPureDocking="0" dock_type="{dock_type}" shift="{shift}" offset="{offset}" base="{base}" />
        </VisionCheck>
        <ForceSuccess>
          <MySetBlackboard new_value="{last_mission_failed}" blackboard_value="true" blackboard_key="last_mission_failed" />
        </ForceSuccess>
      </Fallback>
      <Sequence>
        <Parallel failure_count="1" success_count="2">
          <SubTree ID="OneLevelBot1new" hasCompleteMaterial="{hasCompleteMaterial}" _autoremap="true" />
          <Sequence>
            <Sleep msec="1500" />
            <Fallback>
              <VisionCheck remap_offset="{offset}" remap_shift="{shift}" remap_dock_type="{dock_type}" remap_base="{base}" remap_index="{index}" shift="0.045" offset="-0.2" mission_type="front" dock_type="dock_y_slow_precise" base_index="6">
                <Docking final_pose="{PrevGoal}" isPureDocking="0" dock_type="{dock_type}" shift="{shift}" offset="{offset}" base="{base}" />
              </VisionCheck>
              <VisionCheck remap_offset="{offset}" remap_shift="{shift}" remap_dock_type="{dock_type}" remap_base="{base}" remap_index="{index}" shift="0" offset="0" mission_type="front" dock_type="dock_x_slow_precise" base_index="-1">
                <Docking final_pose="{PrevGoal}" isPureDocking="0" dock_type="{dock_type}" shift="{shift}" offset="{offset}" base="{base}" />
              </VisionCheck>
              <ForceFailure>
                <MySetBlackboard new_value="{last_mission_failed}" blackboard_value="true" blackboard_key="last_mission_failed" />
              </ForceFailure>
            </Fallback>
          </Sequence>
        </Parallel>
        <SubTree ID="TwoLevelsBot1new" back="0.2, 0.1, 0.05" forward="0.15, 0.13, 0.065" shift="0.11" index="{index}" _autoremap="true" />
      </Sequence>
      <Sequence>
        <ForceSuccess>
          <RetryUntilSuccessful num_attempts="10">
            <Fallback>
              <MissionNearRival remap_base="{base}" mission_type="back" base_index="13">
                <Docking final_pose="{PrevGoal}" isPureDocking="0" dock_type="dock_y_slow_precise" shift="0" offset="-0.1" base="{base}" />
              </MissionNearRival>
              <ForceFailure>
                <Sleep msec="500" />
              </ForceFailure>
            </Fallback>
          </RetryUntilSuccessful>
        </ForceSuccess>
        <SubTree ID="ThreeLevelsBot1new" back="0.2, 0.1, 0.05" forward="0.15, 0.09, 0.065" shift="0.11" dock_type="dock_y_slow_precise" hasCompleteMaterial="{hasCompleteMaterial}" _autoremap="true" />
        <MissionSuccess base_index="13" />
      </Sequence>
    </Sequence>
  </BehaviorTree>

  <BehaviorTree ID="MissionPointTwo">
    <Sequence>
      <Sequence>
        <Fallback>
          <VisionCheck remap_offset="{offset}" remap_shift="{shift}" remap_dock_type="{dock_type}" remap_base="{base}" remap_index="{index}" shift="0.045" offset="0.2" mission_type="front" dock_type="dock_y_slow_precise" base_index="9">
            <Docking final_pose="{PrevGoal}" isPureDocking="0" dock_type="{dock_type}" shift="{shift}" offset="{offset}" base="{base}" />
          </VisionCheck>
          <VisionCheck remap_offset="{offset}" remap_shift="{shift}" remap_dock_type="{dock_type}" remap_base="{base}" remap_index="{index}" shift="0" offset="-0.2" mission_type="back" dock_type="dock_x_fast_precise" base_index="-1">
            <Docking final_pose="{PrevGoal}" isPureDocking="0" dock_type="{dock_type}" shift="{shift}" offset="{offset}" base="{base}" />
          </VisionCheck>
          <ForceSuccess>
            <MySetBlackboard new_value="{last_mission_failed}" blackboard_value="true" blackboard_key="last_mission_failed" />
          </ForceSuccess>
        </Fallback>
        <SubTree ID="TwoLevelsBot1new" back="0.2, 0.1, 0.05" forward="0.15, 0.13, 0.065" shift="0.11" index="{index}" _autoremap="true" />
      </Sequence>
      <Sequence>
        <ForceSuccess>
          <MissionNearRival remap_base="{base}" mission_type="back" base_index="13">
            <Docking final_pose="{PrevGoal}" isPureDocking="0" dock_type="dock_y_slow_precise" shift="0" offset="-0.1" base="{base}" />
          </MissionNearRival>
        </ForceSuccess>
        <SubTree ID="ThreeLevelsBot1new" back="0.2, 0.1, 0.05" forward="0.15, 0.09, 0.065" shift="0.11" dock_type="dock_y_slow_precise" hasCompleteMaterial="{hasCompleteMaterial}" _autoremap="true" />
        <MissionSuccess base_index="13" />
      </Sequence>
    </Sequence>
  </BehaviorTree>

  <BehaviorTree ID="MissionPointThree">
    <Sequence>
      <Fallback>
        <VisionCheck remap_offset="{offset}" remap_shift="{shift}" remap_dock_type="{dock_type}" remap_base="{base}" remap_index="{index}" shift="0" offset="-0.2" mission_type="back" dock_type="dock_y_slow_precise" base_index="5">
          <Docking final_pose="{PrevGoal}" isPureDocking="0" dock_type="{dock_type}" shift="{shift}" offset="{offset}" base="{base}" />
        </VisionCheck>
        <VisionCheck remap_offset="{offset}" remap_shift="{shift}" remap_dock_type="{dock_type}" remap_base="{base}" remap_index="{index}" shift="0" offset="0" mission_type="back" dock_type="dock_x_fast_precise" base_index="-1">
          <Docking final_pose="{PrevGoal}" isPureDocking="0" dock_type="{dock_type}" shift="{shift}" offset="{offset}" base="{base}" />
        </VisionCheck>
        <ForceSuccess>
          <MySetBlackboard new_value="{last_mission_failed}" blackboard_value="true" blackboard_key="last_mission_failed" />
        </ForceSuccess>
      </Fallback>
      <Parallel failure_count="1" success_count="2">
        <SubTree ID="OneLevelBot1new" hasCompleteMaterial="{hasCompleteMaterial}" _autoremap="true" />
        <Delay delay_msec="1500">
          <SubTree ID="BannerMission" BANNER_PLACE="0" _autoremap="true" />
        </Delay>
      </Parallel>
      <Sequence>
        <Fallback>
          <VisionCheck remap_offset="{offset}" remap_shift="{shift}" remap_dock_type="{dock_type}" remap_base="{base}" remap_index="{index}" shift="0" offset="-0.2" mission_type="front" dock_type="dock_x_slow_precise" base_index="7">
            <Docking final_pose="{PrevGoal}" isPureDocking="0" dock_type="{dock_type}" shift="{shift}" offset="{offset}" base="{base}" />
          </VisionCheck>
          <VisionCheck remap_offset="{offset}" remap_shift="{shift}" remap_dock_type="{dock_type}" remap_base="{base}" remap_index="{index}" shift="0" offset="0" mission_type="front" dock_type="dock_x_slow_precise" base_index="-1">
            <Docking final_pose="{PrevGoal}" isPureDocking="0" dock_type="{dock_type}" shift="{shift}" offset="{offset}" base="{base}" />
          </VisionCheck>
          <ForceFailure>
            <MySetBlackboard new_value="{last_mission_failed}" blackboard_value="true" blackboard_key="last_mission_failed" />
          </ForceFailure>
        </Fallback>
        <SubTree ID="TwoLevelsBot1new" back="0.2, 0.1, 0.05" forward="0.15, 0.13, 0.065" shift="0.11" index="{index}" _autoremap="true" />
      </Sequence>
      <Sequence>
        <ForceSuccess>
          <MissionNearRival remap_base="{base}" mission_type="back" base_index="14">
            <Docking final_pose="{PrevGoal}" isPureDocking="0" dock_type="dock_y_slow_precise" shift="0" offset="-0.1" base="{base}" />
          </MissionNearRival>
        </ForceSuccess>
        <SubTree ID="ThreeLevelsBot1new" back="0.2, 0.1, 0.05" forward="0.15, 0.09, 0.065" shift="0.11" dock_type="dock_y_slow_precise" hasCompleteMaterial="{hasCompleteMaterial}" _autoremap="true" />
        <MissionSuccess base_index="14" />
      </Sequence>
    </Sequence>
  </BehaviorTree>

  <BehaviorTree ID="OneLevelBot1new">
    <Sequence>
      <ForceSuccess>
        <Timeout msec="6000">
          <FirmwareMission mission_status="{x}" mission_type="22" _description="backward stretch out" />
        </Timeout>
      </ForceSuccess>
      <ForceSuccess>
        <Timeout msec="4000">
          <FirmwareMission mission_status="{x}" mission_type="21" _description="take the raw material" />
        </Timeout>
      </ForceSuccess>
      <ForceSuccess>
        <Timeout msec="6000">
          <FirmwareMission mission_status="{x}" mission_type="32" _description="lift front grabber" />
        </Timeout>
      </ForceSuccess>
      <SetBlackboard value="1" output_key="hasCompleteMaterial" />
    </Sequence>
  </BehaviorTree>

  <BehaviorTree ID="ThreeLevelsBot1new">
    <Fallback>
      <Sequence>
        <MissionStart BACK_IN="{back}" FORWARD_IN="{forward}" SHIFT_IN="{shift}" DOCK_DIR_IN="{dock_type}" BACK_L="{BACK_L}" BACK_M="{BACK_M}" BACK_S="{BACK_S}" FORWARD_L="{FORWARD_L}" FORWARD_M="{FORWARD_M}" FORWARD_S="{FORWARD_S}" SHIFT="{SHIFT}" DOCK_DIR="{DOCK_DIR}" />
        <Switch2 case_1="1" case_2="0" variable="{hasCompleteMaterial}">
          <ForceSuccess>
            <Sequence>
              <Timeout msec="6000">
                <FirmwareMission mission_status="{x}" mission_type="20" _description="back put 1 level" />
              </Timeout>
              <SetBlackboard value="0" output_key="hasCompleteMaterial" />
            </Sequence>
          </ForceSuccess>
          <Sequence>
            <ForceSuccess>
              <Timeout msec="6000">
                <FirmwareMission mission_status="{x}" mission_type="24" _description="back put 1 level" />
              </Timeout>
            </ForceSuccess>
            <ForceSuccess>
              <Timeout msec="6000">
                <FirmwareMission mission_status="{x}" mission_type="23" _description="back put 1 level" />
              </Timeout>
            </ForceSuccess>
            <SetBlackboard value="0" output_key="hasCompleteMaterial" />
          </Sequence>
          <AlwaysFailure />
        </Switch2>
        <SubTree ID="DockingSubTree" base="{PrevGoal}" dock_type="{DOCK_DIR}" final_pose="{PrevGoal}" isPureDocking="1" offset="{BACK_L}" retry="100" shift="0" sleep="100" timeout="6000" _autoremap="true" />
        <Rotation final_pose="{PrevGoal}" degree="180" base="{PrevGoal}" />
        <ForceSuccess>
          <Timeout msec="6000">
            <FirmwareMission mission_status="{x}" mission_type="91" _description="enable back magnet " />
          </Timeout>
        </ForceSuccess>
        <Parallel failure_count="1" success_count="2">
          <ForceSuccess>
            <Timeout msec="6000">
              <FirmwareMission mission_status="{x}" mission_type="35" _description="front take 2 levels" />
            </Timeout>
          </ForceSuccess>
          <SubTree ID="DockingSubTree" base="{PrevGoal}" dock_type="{DOCK_DIR}" final_pose="{PrevGoal}" isPureDocking="1" offset="{FORWARD_M}" retry="100" shift="0" sleep="100" timeout="2000" _autoremap="true" />
        </Parallel>
        <ForceSuccess>
          <Timeout msec="6000">
            <FirmwareMission mission_status="{x}" mission_type="31" _description="arm up" />
          </Timeout>
        </ForceSuccess>
        <SubTree ID="DockingSubTree" base="{PrevGoal}" dock_type="{DOCK_DIR}" final_pose="{PrevGoal}" isPureDocking="1" offset="{FORWARD_M}" retry="100" shift="0" sleep="100" timeout="2000" _autoremap="true" />
        <ForceSuccess>
          <Timeout msec="6000">
            <FirmwareMission mission_status="{x}" mission_type="33" _description="arm up" />
          </Timeout>
        </ForceSuccess>
        <ForceSuccess>
          <Timeout msec="6000">
            <FirmwareMission mission_status="{x}" mission_type="10" _description="front place 2 level" />
          </Timeout>
        </ForceSuccess>
        <SubTree ID="DockingSubTree" base="{PrevGoal}" dock_type="{DOCK_DIR}" final_pose="{PrevGoal}" isPureDocking="1" offset="{BACK_S}" retry="100" shift="0" sleep="100" timeout="6000" _autoremap="true" />
        <ForceSuccess>
          <Timeout msec="6000">
            <FirmwareMission mission_status="{x}" mission_type="90" _description="enable front magnet " />
          </Timeout>
        </ForceSuccess>
      </Sequence>
      <ForceFailure>
        <MissionFinisher failed_levels="{a}" success_levels="{b}" robot_type="1" step_results="5" />
      </ForceFailure>
    </Fallback>
  </BehaviorTree>

  <BehaviorTree ID="TwoLevelsBot1new">
    <Fallback>
      <Sequence>
        <MissionStart BACK_IN="{back}" FORWARD_IN="{forward}" SHIFT_IN="{shift}" DOCK_DIR_IN="{dock_type}" BACK_L="{BACK_L}" BACK_M="{BACK_M}" BACK_S="{BACK_S}" FORWARD_L="{FORWARD_L}" FORWARD_M="{FORWARD_M}" FORWARD_S="{FORWARD_S}" SHIFT="{SHIFT}" DOCK_DIR="{DOCK_DIR}" />
        <ForceSuccess>
          <Timeout msec="6000">
            <FirmwareMission mission_status="{x}" mission_type="71" _description="take board" />
          </Timeout>
        </ForceSuccess>
        
        <SubTree ID="DockingSubTree" retry="100" timeout="6000" sleep="100" base="{PrevGoal}" offset="{BACK_S}" shift="0" isPureDocking="1" dock_type="{DOCK_DIR}" final_pose="{PrevGoal}" _autoremap="true" />
        <ForceSuccess>
          <Timeout msec="6000">
            <FirmwareMission mission_status="{x}" mission_type="30" _description="arm down" />
          </Timeout>
        </ForceSuccess>
        
        <SubTree ID="DockingSubTree" base="{PrevGoal}" dock_type="{DOCK_DIR}" final_pose="{PrevGoal}" isPureDocking="1" offset="{FORWARD_S}" retry="100" shift="0" sleep="100" timeout="2000" _autoremap="true" />
        <ForceSuccess>
          <Timeout msec="6000">
            <FirmwareMission mission_status="{x}" mission_type="11" _description="front take 1 level" />
          </Timeout>
        </ForceSuccess>
        <ForceSuccess>
          <Timeout msec="6000">
            <FirmwareMission mission_status="{x}" mission_type="32" _description="arm up" />
          </Timeout>
        </ForceSuccess>
        <ForceSuccess>
          <Timeout msec="6000">
            <FirmwareMission mission_status="{x}" mission_type="70" _description="place board" />
          </Timeout>
        </ForceSuccess>
        <SubTree ID="DockingSubTree" base="{PrevGoal}" dock_type="{DOCK_DIR}" final_pose="{PrevGoal}" isPureDocking="0" offset="0" retry="100" shift="{SHIFT}" sleep="100" timeout="2000" _autoremap="true" />
        <ForceSuccess>
          <Timeout msec="6000">
            <FirmwareMission mission_status="{x}" mission_type="31" _description="arm to one level height" />
          </Timeout>
        </ForceSuccess>
        <ForceSuccess>
          <Timeout msec="6000">
            <FirmwareMission mission_status="{x}" mission_type="33" _description="arm to one level height" />
          </Timeout>
        </ForceSuccess>
        <ForceSuccess>
          <Timeout msec="6000">
            <FirmwareMission mission_status="{x}" mission_type="10" _description="front place 1 level" />
          </Timeout>
        </ForceSuccess>
        <SubTree ID="DockingSubTree" base="{PrevGoal}" dock_type="{DOCK_DIR}" final_pose="{PrevGoal}" isPureDocking="1" offset="{BACK_M}" retry="100" shift="0" sleep="100" timeout="6000" _autoremap="true" />
        <ForceSuccess>
          <Timeout msec="6000">
            <FirmwareMission mission_status="{x}" mission_type="90" _description="enable front magnet " />
          </Timeout>
        </ForceSuccess>
        <ForceSuccess>
          <Timeout msec="6000">
            <FirmwareMission mission_status="{x}" mission_type="30" _description="arm down" />
          </Timeout>
        </ForceSuccess>
        <SubTree ID="DockingSubTree" base="{PrevGoal}" dock_type="{DOCK_DIR}" final_pose="{PrevGoal}" isPureDocking="1" offset="{FORWARD_M}" retry="100" shift="0" sleep="100" timeout="2000" _autoremap="true" />
        <ForceSuccess>
          <Timeout msec="6000">
            <FirmwareMission mission_status="{x}" mission_type="11" _description="front take 2 levels" />
          </Timeout>
        </ForceSuccess>
        <ForceSuccess>
          <Timeout msec="6000">
            <FirmwareMission mission_status="{x}" mission_type="34" _description="smd strenght" />
          </Timeout>
        </ForceSuccess>
      </Sequence>
      <MissionFinisher failed_levels="{a}" success_levels="{b}" robot_type="1" step_results="4" />
    </Fallback>
  </BehaviorTree>

  <BehaviorTree ID="NavTest">
    <Sequence>
      
      
      <Docking final_pose="{PrevGoal}" isPureDocking="0" dock_type="mission_dock_y" shift="0" offset="-0.2" base="0.778, 0.6, 1" _description="material point 5" />
      <Sequence>
        <ForceSuccess>
          <Timeout msec="6000">
            <FirmwareMission mission_status="{x}" mission_type="21" _description="take the raw material" />
          </Timeout>
        </ForceSuccess>
        <Docking final_pose="{PrevGoal}" isPureDocking="1" dock_type="mission_dock_y" shift="0" offset="0.2" base="{PrevGoal}" _description="step back to release" />
        <ForceSuccess>
          <Timeout msec="6000">
            <FirmwareMission mission_status="{x}" mission_type="20" _description="take the raw material" />
          </Timeout>
        </ForceSuccess>
        <ForceSuccess>
          <Timeout msec="6000">
            <FirmwareMission mission_status="{x}" mission_type="24" _description="take the raw material" />
          </Timeout>
        </ForceSuccess>
      </Sequence>
      <Docking final_pose="{PrevGoal}" isPureDocking="0" dock_type="mission_dock_y" shift="0" offset="0.2" base="1.105, 0.6, 3" _description="material point 6" />
      <Sequence>
        <ForceSuccess>
          <Timeout msec="6000">
            <FirmwareMission mission_status="{x}" mission_type="21" _description="take the raw material" />
          </Timeout>
        </ForceSuccess>
        <Docking final_pose="{PrevGoal}" isPureDocking="1" dock_type="mission_dock_y" shift="0" offset="-0.2" base="{PrevGoal}" _description="step back to release" />
        <ForceSuccess>
          <Timeout msec="6000">
            <FirmwareMission mission_status="{x}" mission_type="20" _description="take the raw material" />
          </Timeout>
        </ForceSuccess>
        <ForceSuccess>
          <Timeout msec="6000">
            <FirmwareMission mission_status="{x}" mission_type="24" _description="take the raw material" />
          </Timeout>
        </ForceSuccess>
      </Sequence>
      <Docking final_pose="{PrevGoal}" isPureDocking="0" dock_type="mission_dock_x" shift="0" offset="-0.1" base="0.325, 0.415, 0" _description="material point 7" />
      <Sequence>
        <ForceSuccess>
          <Timeout msec="6000">
            <FirmwareMission mission_status="{x}" mission_type="21" _description="take the raw material" />
          </Timeout>
        </ForceSuccess>
        <Docking final_pose="{PrevGoal}" isPureDocking="1" dock_type="mission_dock_x" shift="0" offset="0.2" base="{PrevGoal}" _description="step back to release" />
        <ForceSuccess>
          <Timeout msec="6000">
            <FirmwareMission mission_status="{x}" mission_type="20" _description="take the raw material" />
          </Timeout>
        </ForceSuccess>
        <ForceSuccess>
          <Timeout msec="6000">
            <FirmwareMission mission_status="{x}" mission_type="24" _description="take the raw material" />
          </Timeout>
        </ForceSuccess>
      </Sequence>
      <Docking final_pose="{PrevGoal}" isPureDocking="0" dock_type="mission_dock_x" shift="0" offset="-0.2" base="0.425, 1.34, 0" _description="material point 8" />
      <Sequence>
        <ForceSuccess>
          <Timeout msec="6000">
            <FirmwareMission mission_status="{x}" mission_type="21" _description="take the raw material" />
          </Timeout>
        </ForceSuccess>
        <Docking final_pose="{PrevGoal}" isPureDocking="1" dock_type="mission_dock_x" shift="0" offset="0.2" base="{PrevGoal}" _description="step back to release" />
        <ForceSuccess>
          <Timeout msec="6000">
            <FirmwareMission mission_status="{x}" mission_type="20" _description="take the raw material" />
          </Timeout>
        </ForceSuccess>
        <ForceSuccess>
          <Timeout msec="6000">
            <FirmwareMission mission_status="{x}" mission_type="24" _description="take the raw material" />
          </Timeout>
        </ForceSuccess>
      </Sequence>
      
    </Sequence>
  </BehaviorTree>

  <BehaviorTree ID="NavTest1">
    <Sequence>
      <Docking final_pose="{PrevGoal}" isPureDocking="0" dock_type="mission_dock_y" shift="0" offset="0.2" base="2.235, 1.375, 1" _description="material point 0" />
      <Sequence>
        <ForceSuccess>
          <Timeout msec="6000">
            <FirmwareMission mission_status="{x}" mission_type="21" _description="take the raw material" />
          </Timeout>
        </ForceSuccess>
        <Docking final_pose="{PrevGoal}" isPureDocking="0" dock_type="mission_dock_y" shift="0" offset="-0.2" base="{PrevGoal}" _description="step back to release" />
        <ForceSuccess>
          <Timeout msec="6000">
            <FirmwareMission mission_status="{x}" mission_type="20" _description="take the raw material" />
          </Timeout>
        </ForceSuccess>
      </Sequence>
      <Docking final_pose="{PrevGoal}" isPureDocking="0" dock_type="mission_dock_x" shift="0" offset="0.2" base="2.575, 1.265, 0" _description="material point 1" />
      <Sequence>
        <ForceSuccess>
          <Timeout msec="6000">
            <FirmwareMission mission_status="{x}" mission_type="21" _description="take the raw material" />
          </Timeout>
        </ForceSuccess>
        <Docking final_pose="{PrevGoal}" isPureDocking="0" dock_type="mission_dock_x" shift="0" offset="-0.2" base="{PrevGoal}" _description="step back to release" />
        <ForceSuccess>
          <Timeout msec="6000">
            <FirmwareMission mission_status="{x}" mission_type="20" _description="take the raw material" />
          </Timeout>
        </ForceSuccess>
      </Sequence>
      <Docking final_pose="{PrevGoal}" isPureDocking="0" dock_type="mission_dock_x" shift="0" offset="0.2" base="2.575, 0.355, 0" _description="material point 2" />
      <Sequence>
        <ForceSuccess>
          <Timeout msec="6000">
            <FirmwareMission mission_status="{x}" mission_type="21" _description="take the raw material" />
          </Timeout>
        </ForceSuccess>
        <Docking final_pose="{PrevGoal}" isPureDocking="0" dock_type="mission_dock_x" shift="0" offset="-0.2" base="{PrevGoal}" _description="step back to release" />
        <ForceSuccess>
          <Timeout msec="6000">
            <FirmwareMission mission_status="{x}" mission_type="20" _description="take the raw material" />
          </Timeout>
        </ForceSuccess>
      </Sequence>
      <Docking final_pose="{PrevGoal}" isPureDocking="0" dock_type="mission_dock_y" shift="0" offset="0.2" base="1.96, 0.6, 1" _description="material point 3" />
      <Sequence>
        <ForceSuccess>
          <Timeout msec="6000">
            <FirmwareMission mission_status="{x}" mission_type="21" _description="take the raw material" />
          </Timeout>
        </ForceSuccess>
        <Docking final_pose="{PrevGoal}" isPureDocking="0" dock_type="mission_dock_y" shift="0" offset="-0.2" base="{PrevGoal}" _description="step back to release" />
        <ForceSuccess>
          <Timeout msec="6000">
            <FirmwareMission mission_status="{x}" mission_type="20" _description="take the raw material" />
          </Timeout>
        </ForceSuccess>
      </Sequence>
      <Docking final_pose="{PrevGoal}" isPureDocking="0" dock_type="mission_dock_y" shift="0" offset="-0.2" base="2.165, 0.6, 3" _description="material point 4" />
      <Sequence>
        <ForceSuccess>
          <Timeout msec="6000">
            <FirmwareMission mission_status="{x}" mission_type="21" _description="take the raw material" />
          </Timeout>
        </ForceSuccess>
        <Docking final_pose="{PrevGoal}" isPureDocking="0" dock_type="mission_dock_y" shift="0" offset="0.2" base="{PrevGoal}" _description="step back to release" />
      </Sequence>
      <Docking final_pose="{PrevGoal}" isPureDocking="0" dock_type="mission_dock_y" shift="0" offset="-0.2" base="0.72, 0.6, 3" _description="material point 5" />
      <Sequence>
        <ForceSuccess>
          <Timeout msec="6000">
            <FirmwareMission mission_status="{x}" mission_type="11" _description="take the raw material" />
          </Timeout>
        </ForceSuccess>
        <Docking final_pose="{PrevGoal}" isPureDocking="0" dock_type="mission_dock_y" shift="0" offset="0.2" base="{PrevGoal}" _description="step back to release" />
        <ForceSuccess>
          <Timeout msec="6000">
            <FirmwareMission mission_status="{x}" mission_type="10" _description="take the raw material" />
          </Timeout>
        </ForceSuccess>
      </Sequence>
      <Docking final_pose="{PrevGoal}" isPureDocking="0" dock_type="mission_dock_y" shift="0" offset="0.2" base="1.16, 0.6, 1" _description="material point 6" />
      <Sequence>
        <ForceSuccess>
          <Timeout msec="6000">
            <FirmwareMission mission_status="{x}" mission_type="11" _description="take the raw material" />
          </Timeout>
        </ForceSuccess>
        <Docking final_pose="{PrevGoal}" isPureDocking="0" dock_type="mission_dock_y" shift="0" offset="-0.2" base="{PrevGoal}" _description="step back to release" />
        <ForceSuccess>
          <Timeout msec="6000">
            <FirmwareMission mission_status="{x}" mission_type="10" _description="take the raw material" />
          </Timeout>
        </ForceSuccess>
      </Sequence>
      <Docking final_pose="{PrevGoal}" isPureDocking="0" dock_type="mission_dock_x" shift="0" offset="-0.2" base="0.425, 0.47, 2" _description="material point 7" />
      <Sequence>
        <ForceSuccess>
          <Timeout msec="6000">
            <FirmwareMission mission_status="{x}" mission_type="11" _description="take the raw material" />
          </Timeout>
        </ForceSuccess>
        <Docking final_pose="{PrevGoal}" isPureDocking="0" dock_type="mission_dock_x" shift="0" offset="0.2" base="{PrevGoal}" _description="step back to release" />
        <ForceSuccess>
          <Timeout msec="6000">
            <FirmwareMission mission_status="{x}" mission_type="10" _description="take the raw material" />
          </Timeout>
        </ForceSuccess>
      </Sequence>
      <Docking final_pose="{PrevGoal}" isPureDocking="0" dock_type="mission_dock_x" shift="0" offset="-0.2" base="0.425, 1.4, 2" _description="material point 8" />
      <Sequence>
        <ForceSuccess>
          <Timeout msec="6000">
            <FirmwareMission mission_status="{x}" mission_type="11" _description="take the raw material" />
          </Timeout>
        </ForceSuccess>
        <Docking final_pose="{PrevGoal}" isPureDocking="0" dock_type="mission_dock_x" shift="0" offset="0.2" base="{PrevGoal}" _description="step back to release" />
        <ForceSuccess>
          <Timeout msec="6000">
            <FirmwareMission mission_status="{x}" mission_type="10" _description="take the raw material" />
          </Timeout>
        </ForceSuccess>
      </Sequence>
      <Docking final_pose="{PrevGoal}" isPureDocking="0" dock_type="mission_dock_y" shift="0" offset="0.2" base="0.875, 1.375, 1" _description="material point 9" />
    </Sequence>
  </BehaviorTree>

  
  <TreeNodesModel>
    <Action ID="BTStarter">
      <output_port name="result" type="int" />
    </Action>
    <Action ID="CamReceiver" />
    <Action ID="Docking">
      <output_port name="final_pose" type="geometry_msgs::msg::PoseStamped_&lt;std::allocator&lt;void&gt; &gt;" />
      <input_port name="isPureDocking" type="bool" />
      <input_port name="dock_type" type="std::string" />
      <input_port name="shift" type="double" />
      <input_port name="offset" type="double" />
      <input_port name="base" type="geometry_msgs::msg::PoseStamped_&lt;std::allocator&lt;void&gt; &gt;" />
    </Action>
    <Action ID="FirmwareMission">
      <output_port name="mission_status" type="int" />
      <input_port name="mission_type" type="int" />
    </Action>
    <Action ID="MissionFinisher">
      <output_port name="failed_levels" type="int" />
      <output_port name="success_levels" type="int" />
      <input_port name="robot_type" type="bool" />
      <input_port name="step_results" type="std::deque&lt;int, std::allocator&lt;int&gt; &gt;" />
    </Action>
    <Decorator ID="MissionNearRival">
      <output_port name="remap_base" type="geometry_msgs::msg::PoseStamped_&lt;std::allocator&lt;void&gt; &gt;" />
      <input_port name="mission_type" type="std::string" />
      <input_port name="base_index" type="int" />
    </Decorator>
    <Action ID="MissionSuccess">
      <input_port name="base_index" type="int" />
    </Action>
    <Action ID="MySetBlackboard">
      <output_port name="new_value" type="bool" />
      <input_port name="blackboard_value" type="bool" />
      <input_port name="blackboard_key" type="std::string" />
    </Action>
    <Action ID="Rotation">
      <output_port name="final_pose" type="geometry_msgs::msg::PoseStamped_&lt;std::allocator&lt;void&gt; &gt;" />
      <input_port name="degree" type="double" />
      <input_port name="base" type="geometry_msgs::msg::PoseStamped_&lt;std::allocator&lt;void&gt; &gt;" />
    </Action>
    <Action ID="StopRobot" />
    <Decorator ID="VisionCheck">
      <output_port name="remap_offset" type="double" />
      <output_port name="remap_shift" type="double" />
      <output_port name="remap_dock_type" type="std::string" />
      <output_port name="remap_base" type="geometry_msgs::msg::PoseStamped_&lt;std::allocator&lt;void&gt; &gt;" />
      <output_port name="remap_index" type="int" />
      <input_port name="shift" type="double" />
      <input_port name="offset" type="double" />
      <input_port name="mission_type" type="std::string" />
      <input_port name="dock_type" type="std::string" />
      <input_port name="base_index" type="int" />
    </Decorator>
  </TreeNodesModel>

</root>